
script EventScript_OverworldStoryTalk
{
    if (var(VAR_AKIHIKOS_INTRO_STATE) == 2){
        call(EventScript_OverworldStoryTalk_MustSetClock)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 3 || var(VAR_AKIHIKOS_INTRO_STATE) == 4){
       call(EventScript_OverworldStoryTalk_ClockIsSet)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 5){
        iscurrentmap(MAP_SUNSHINE_ORPHANAGE)
        if (var(VAR_RESULT) == 1){
            call(EventScript_OverworldStoryTalk_ShinjiroAndMikiJoinedGoingToWoods)
            }
        iscurrentmap(MAP_SUNSHINE_WOODS)
        if (var(VAR_RESULT) == 1){
            call(EventScript_OverworldStoryTalk_LookingAroundInTheWoods)
            }
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 8){
        call(EventScript_OverworldStoryTalk_PrePickPawmi)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 9){
        call(EventScript_OverworldStoryTalk_PostPickPawmi)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 10){
        call(EventScript_OverworldStoryTalk_HaveTalkedToShinjiro)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 11){
        iscurrentmap(MAP_SUNSHINE_ORPHANAGE_AKIHIKOS_ROOM2F)
        if (var(VAR_RESULT) == 1){
            call(EventScript_OverworldStoryTalk_ShinjiroJoinedAkihikosRoom)
        }
        else{
            call(EventScript_OverworldStoryTalk_PreTalkKobayashi)
        }
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 12){
        iscurrentmap(MAP_SUNSHINE_WOODS)
        if (var(VAR_RESULT) == 1){
            call(EventScript_OverworldStoryTalk_PostTalkKobayashi_InWoods)
            }
        
        else {iscurrentmap(MAP_SUNSHINE_TOWN_POKEMON_CENTER)
                if(var(VAR_RESULT) == 1){
                call(EventScript_OverworldStoryTalk_PreTalkMartLady)
                }
                else{
                call (EventScript_OverworldStoryTalk_PostTalkKobayashi)
                }
        }
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 15){
        call(EventScript_OverworldStoryTalk_PostTalkMartLady)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 17){
        call(EventScript_OverworldStoryTalk_TalkToTheTownPeople)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 18){
        call(EventScript_OverworldStoryTalk_GoBackToTheOrphanage)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 24){
        iscurrentmap(MAP_SUNSHINE_TOWN_RIVERBANK)
        if (var(VAR_RESULT) == 1)
        {
            call(EventScript_OverworldStoryTalk_PosttalkKurosawa_Riverbank)
        }
        else 
        {iscurrentmap(MAP_SUNSHINE_WOODS)
            if (var(VAR_RESULT) == 1)
            {
            call(EventScript_OverworldStoryTalk_PosttalkKurosawa_Woods)
            }
            else
            {
            call(EventScript_OverworldStoryTalk_PosttalkKurosawa)
            }
        }
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 29){
        call(EventScript_OverworldStoryTalk_PostFirstMeetingMitsuru)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 30){
        call (EventScript_OverworldStoryTalk_PostFirstMeetingShinjiro)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 33){
        call (EventScript_OverworldStoryTalk_PreFirstBattleMitsuruRoute2House)
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 34){
        iscurrentmap(MAP_SUNSHINE_MEADOW)
        if (var(VAR_RESULT) == 1){
            call (EventScript_OverworldStoryTalk_PreFirstBattleMitsuru_Meadow)
        }
        else{
            call (EventScript_OverworldStoryTalk_PreFirstBattleMitsuruShinjiroLeft)
        }
    }
    elif (var(VAR_AKIHIKOS_INTRO_STATE) == 38){
        call (EventScript_OverworldStoryTalk_PostFirstBattleMitsuru)
    }
    else
    {
        msgbox("No script yet.")
    }
    closemessage
	end
}




script EventScript_OverworldStoryTalk_MustSetClock {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}(Let's fix the clock and join Miki outside.)"))
}

script EventScript_OverworldStoryTalk_ClockIsSet {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}(Miki's waiting for me outside. Better hurry)."))
}

script EventScript_OverworldStoryTalk_ShinjiroAndMikiJoinedGoingToWoods {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SMILE}What are you going to do in the woods?\p
        {SPEAKER NAME_MIKI}{DESTROY_MUGSHOT}You'll know soon! I'm sure you'll love it!\p
        {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_SMILE}Gonna be funny if you fall into the pond again, Aki.\p
        {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_DOUBT}I was just surprised!\p
        {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_SMILE}Yeah, by a Caterpie.\p
        {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_DOUBT}Ugh...\p
        {SPEAKER NAME_MIKI}{DESTROY_MUGSHOT}Hehe."))
    }

script EventScript_OverworldStoryTalk_LookingAroundInTheWoods {
    applymovement(2, faceup)
    applymovement(3, faceup)
    waitmovement(0)
    msgbox(format("
    {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}What are you doing?\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}Just looking around.\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_SMILE}Making sure there's no Caterpie?\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_DOUBT}Screw you.\p
    {SPEAKER NAME_MIKI}{DESTROY_MUGSHOT}Ehehe."))
}
script EventScript_OverworldStoryTalk_PrePickPawmi {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}(Come to think of it, this Pawmi's fur color is kinda... weird.)"))
}

script EventScript_OverworldStoryTalk_PostPickPawmi {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SMILE}(I slept so well.)"))
    if (flag(FLAG_FOLLOWERS_DISABLED) == FALSE){
        lock
        msgbox(format("... You make a good hug pillow, huh?"))
        playmoncry(SPECIES_PAWMI, CRY_MODE_NORMAL)
        applymovement(OBJ_EVENT_ID_FOLLOWER, PawmiHappy)
        waitmovement(0)
        release
    }
}

movement PawmiHappy {
    emote_heart
    face_player
    lock_facing_direction
    jump_in_place_down
    unlock_facing_direction
}

script EventScript_OverworldStoryTalk_HaveTalkedToShinjiro {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}I wonder what Ms.Kobayashi needs us for..."))
    closemessage
    applymovement(2,facedown)
    msgbox(format("{SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}No idea, she hurried off somewhere before I could ask."))
}

script EventScript_OverworldStoryTalk_ShinjiroJoinedAkihikosRoom {
    msgbox(format("{SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}Did you forget something? Hurry up, Ms. Kobayashi is waiting."))
}

script EventScript_OverworldStoryTalk_PreTalkKobayashi {
    msgbox(format("{SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}Ms. Kobayashi said she'd be at the main hall."))
}

script EventScript_OverworldStoryTalk_PostTalkKobayashi {
    msgbox(format("{SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}The package is in the Pokémon Center in Sunshine Town.\p
    Let's get this over with. The show's on air soon.\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SMILE}Oh right, your favorite cooking show."))
}

script EventScript_OverworldStoryTalk_PostTalkKobayashi_InWoods {
    msgbox(format("{SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_SMILE}Never knew you would get your first Pokémon here, huh?\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SMILE}Yeah."))
    if (flag(FLAG_FOLLOWERS_DISABLED) == FALSE){
        lock
        msgbox(format("I'm glad I met you, Pawmi."))
        playmoncry(SPECIES_PAWMI, CRY_MODE_NORMAL)
        applymovement(OBJ_EVENT_ID_FOLLOWER, PawmiHappy)
        waitmovement(0)
        release
    }
}

script EventScript_OverworldStoryTalk_PreTalkMartLady {
    msgbox(format("
    {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}What are you doing? Just ask the Mart Lady for the package."))
}

script EventScript_OverworldStoryTalk_PostTalkMartLady {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SERIOUS}Let's hurry up outside. I have a bad feeling.\p
    {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_SERIOUS}Damn it, you too?"))
}

script EventScript_OverworldStoryTalk_TalkToTheTownPeople {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SERIOUS}(Someone must've known what happened. Let's ask around.)"))
}

script EventScript_OverworldStoryTalk_GoBackToTheOrphanage {
    msgbox(format("{SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_MAD}Let's hurry back to the orphanage!!"))
}

script EventScript_OverworldStoryTalk_PosttalkKurosawa {
    msgbox(format("{SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}You know where to go?\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}No. But there's no point in returning to the orphanage right now. Let's start with Route 2."))
}
script EventScript_OverworldStoryTalk_PosttalkKurosawa_Riverbank 
{
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SAD}Hey Shinji...\p
    Why do you think Ms. Kobayashi would do that to us?\p
    {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_DOUBT}Pushing us into the river...\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SAD}..."))
}

script EventScript_OverworldStoryTalk_PosttalkKurosawa_Woods {
    msgbox(format("
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SAD}Miki gifted me a flower crown here.\p
    I left it in our room so it was probably burned to ash.\p
    {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_DOUBT}..."))

}

script EventScript_OverworldStoryTalk_PostFirstMeetingMitsuru {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}(I wonder what Shinji wanted to say.)"))
}

script EventScript_OverworldStoryTalk_PostFirstMeetingShinjiro {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}You think she'll agree?\p
    {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}We have a good chance. She must've also wanted our help."))
}

script EventScript_OverworldStoryTalk_PreFirstBattleMitsuruRoute2House {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}Kirijo's waiting for us in Sunshine Meadow.\p
    {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}Let's go meet up with her after we've sorted out our party.\p
    We'll be having 3-vs-3 battles."))
}

script EventScript_OverworldStoryTalk_PreFirstBattleMitsuruShinjiroLeft {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}(Shinji went ahead to prepare his team.\p
    I should do the same and go to Sunshine Meadow to have my first battle with Kirijo.)"))
}

script EventScript_OverworldStoryTalk_PreFirstBattleMitsuru_Meadow{
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}(There she is. Her Inteleon is gonna be hard to take down.\p
    There's also that weird-colored Vulpix.)"))
}

script EventScript_OverworldStoryTalk_PostFirstBattleMitsuru {
    msgbox(format("{SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}By the way, Shinji. The Ferroseed you used earlier...\p
    {SPEAKER NAME_SHINJIRO}{CREATE_MUGSHOT MUGSHOT_SHINJIRO EMOTE_NORMAL}Looks a bit different, right?\p
    It just started following me when I was looking for my first Pokémon in Route 1.\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_NORMAL}Huh...\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SURPRISED}Wait, all three of us have Pokémons that look slightly different from usual.\p
    {SPEAKER NAME_AKIHIKO}{CREATE_MUGSHOT MUGSHOT_AKIHIKO EMOTE_SMILE}A special coincident, huh?\p
    {SPEAKER NAME_MITSURU}{CREATE_MUGSHOT MUGSHOT_MITSURU EMOTE_SAD}..."))
}